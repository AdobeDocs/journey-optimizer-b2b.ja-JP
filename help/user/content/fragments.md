---
title: フラグメント
description: Adobe Journey Optimizer B2B Edition 全体で、メールおよびメールテンプレートの再利用可能なコンポーネントとしてビジュアルコンテンツフラグメントを作成し使用する方法を説明します。
feature: Content, Email Authoring
source-git-commit: dcd8ab2820d60654e8970944054142fc296ed54f
workflow-type: tm+mt
source-wordcount: '1701'
ht-degree: 0%

---

# フラグメント

フラグメントは、Adobe Journey Optimizer B2B Edition 全体で 1 つ以上のメールおよびメールテンプレートで参照できる再利用可能なコンポーネントです。 通常は、事前に作成してすばやくメールまたはメールテンプレートに挿入できるコンテンツのブロック（テキスト、画像、またはその両方）です。 この機能を使用すると、マーケティングチームメンバーがメールコンテンツを組み立てるために使用できる複数のカスタムコンテンツブロックを事前に作成し、設計プロセスを改善できます。 一般的なユースケースとしては、メールのヘッダー/フッターコンテンツブロック、イベント招待バナー、季節ごとの挨拶などがあります。

ワークフローでフラグメントを最大限に活用するには：

* _独自のフラグメントを作成_ - ビジュアルコンテンツエディターからコンテンツをフラグメントとして保存するか、ゼロからビジュアルフラグメントを作成します。
* フラグメントを再利用（_R） – コンテンツで必要な回数だけ使用します。

## ビジュアルフラグメント

ビジュアルフラグメントは、ビジュアルコンテンツエディターを使用して作成され、複数のメールまたはメールテンプレートで再利用できる、事前定義されたビジュアルブロックです。 Journey Optimizer B2B Edition と本ドキュメントの現在の範囲は、ビジュアルフラグメントのみです。 式ベースのフラグメントは、Journey Optimizer B2B Edition ではまだサポートされていません。

## フラグメントへのアクセスと管理

Adobe Journey Optimizer B2B Edition でビジュアルフラグメントにアクセスするには、左側のナビゲーションに移動して、**[!UICONTROL コンテンツ管理]**/**[!UICONTROL フラグメント]** をクリックします。 このアクションを実行すると、インスタンスで作成されたすべてのフラグメントを含むリストページがテーブルに表示されます。

![ フラグメントライブラリへのアクセス ](./assets/fragments-list.png){width="700" zoomable="yes"}

テーブルは _[!UICONTROL 変更済み]_ 列で並べ替えられ、デフォルトでは最近更新されたフラグメントがリストの先頭に表示されます。 列タイトルをクリックして、昇順と降順を切り替えます。

検索バーにテキスト文字列を入力してフラグメント名で一致するものを検索し、フラグメントを検索します。 _フィルター_ アイコンをクリックして、指定した条件に従って表示された項目をフィルタリングします。

![ 表示されたフラグメントのフィルタリング ](./assets/fragments-list-filtered.png){width="700" zoomable="yes"}

右上の _テーブルをカスタマイズ_ アイコンをクリックして、テーブルに表示する列をカスタマイズします。 表示する列を選択し、「**[!UICONTROL 適用]**」をクリックします。

## フラグメントを作成

右上の **[!UICONTROL フラグメントを作成]** をクリックすると、Journey Optimizer B2B Edition で新しいビジュアルフラグメントを作成できます。

1. _[!UICONTROL フラグメントを作成]_ ダイアログで、便利な **[!UICONTROL 名前]** と **[!UICONTROL 説明]** （オプション）を入力します。

   フラグメント要件：

   * 名前 – 最大 100 文字。一意である必要があります。大文字と小文字は区別されません

   * 説明 – 最大 300 文字

   * Alpha、数字、特殊文字を使用できます

   * 予約文字は使用できません：`\ / : * ? " < > |`

   ![ フラグメントを作成ダイアログ ](./assets/assets-fragments-create-dialog.png){width="500"}

1. 「**[!UICONTROL 作成]**」をクリックします。

   空のキャンバスでビジュアルコンテンツエディターが開きます。 ビジュアルコンテンツエディターを使用してフラグメントを作成する方法については、コンテンツオーサリングに関する次のトピックを参照してください。

<!-- To be linked to the corresponding sections on this page: Adobe Journey Optimizer B2B Edition - Email Templates

Adding structure & content
Adding assets
Navigating the layers
Previewing & editing URLs
View options
More options -->

## フラグメントの詳細を表示

リストページで任意のフラグメントの名前をクリックして、フラグメントの詳細ページを開きます。

ここから、フラグメントの編集、フラグメントの名前の変更、フラグメントの説明の更新を選択できます（更新を行い、「名前/説明」ボックスの外側をクリックして変更を自動保存します）。

**[!UICONTROL 編集]** をクリックして、フラグメントをビジュアルコンテンツエディターで開きます。

左上の _戻る_ 矢印をクリックして、いつでもビューを終了できます。この矢印をクリックすると、_フラグメント_ リストページに戻ります。

## 参照別に使用されているフラグメントを表示

フラグメントの詳細ページで「**[!UICONTROL 使用者]**」タブをクリックすると、Journey Optimizer B2B Edition 内、メール、メールテンプレート、フラグメント全体で、フラグメントが現在使用されている場所の詳細が表示されます。

>[!IMPORTANT]
>
>メールまたはメールテンプレートで現在使用しているフラグメントは、削除できません。

参照は、カテゴリ（_メール_ または _メールテンプレート_ に従って表示されます。 Journey Optimizer B2B Edition のメールは、アカウントジャーニー内に埋め込まれて作成されるので、フラグメントを使用するメールの親ジャーニーは参照に表示されます。

リンクをクリックして、フラグメントが使用されている対応するメールまたはメールテンプレートを開きます。

## フラグメントの削除

メールまたはメールテンプレートで現在使用されているフラグメントは削除できないので、フラグメントの削除を開始する前に _使用_ 参照を確認してください。 また、削除を取り消すことはできないので、削除操作を開始する前に確認します。

フラグメントを削除するには、次のいずれかの方法を使用します。

* 右側のフラグメントの詳細で、「**[!UICONTROL 削除]**」をクリックします。
* _[!UICONTROL フラグメント]_ リストページで、フラグメントの横にある省略記号をクリックし、「**[!UICONTROL 削除]**」を選択します。

この操作を実行すると、確認ダイアログが開きます。 **[!UICONTROL キャンセル]** をクリックするか、「**[!UICONTROL 削除]**」をクリックして削除を確定すると、プロセスを中止できます。

フラグメントが現在使用中の場合は、削除できないことを警告する情報ダイアログが開きます。 「**[!UICONTROL OK]**」をクリックすると、削除が中止されます。

## フラグメントの編集

次のいずれかの方法を使用して、フラグメントを編集できます。

* 右側のフラグメントの詳細で、「**[!UICONTROL 編集]**」をクリックします。
* _[!UICONTROL フラグメント]_ リストページで、フラグメントの横にある省略記号をクリックし、「**[!UICONTROL 編集]**」を選択します。

このアクションにより、フラグメントがビジュアルコンテンツエディターで開き、（フラグメントの作成 [ 機能を使用してフラグメントを編集でき ](#create-fragments) す。

## フラグメントを複製

次のいずれかの方法を使用して、フラグメントを複製できます。

* 右側のフラグメントの詳細で、「**[!UICONTROL 複製]**」をクリックします。
* _[!UICONTROL フラグメント]_ リストページで、フラグメントの横の省略記号をクリックし、「**[!UICONTROL 複製]**」を選択します。

ダイアログで、便利な名前（一意の）と説明を入力します。 「**[!UICONTROL 複製]**」をクリックして、アクションを完了します。

複製された（新しい）フラグメントが _フラグメント_ リストに表示されます。

## メールまたはテンプレートエディターからフラグメントを保存

メールまたはメールテンプレートを作成/編集するビジュアルコンテンツエディターでは、いつでもコンテンツのすべてまたは一部をフラグメントとして保存して、再利用できるようにすることができます。

1. 一部のコンテンツをフラグメントとして保存する場合は、「詳細 **[!UICONTROL をクリックし、「**[!UICONTROL  フラグメントとして保存 ]**を選択し]** す。

1. フラグメントに含める様々な要素を選択します。

   Ctrl キーを押しながら複数の構造を選択

   互いに隣接する構造のみを選択できます。インターフェイスでは、隣接しない要素は選択できません。

1. コンテンツを選択した状態で、右上の **[!UICONTROL 作成]** をクリックします。

1. ダイアログで、フラグメントに役立つ名前と説明を入力します。 「**[!UICONTROL 作成]**」をクリックします。

   新しいフラグメントは _フラグメント_ リストページに表示され、メールやメールテンプレート内でも使用できます。

## メールまたはテンプレートへのビジュアルフラグメントの追加

フラグメントは再利用できるように設計されており、メールおよびメールテンプレートのオーサリング用に挿入できます。 特定のメールまたはテンプレートに最大 30 個のフラグメントを追加できます。 フラグメントは 1 レベルまでネストできます。

>[!BEGINTABS]

>[!TAB  メールへのフラグメントの追加 ]

1. アカウントジャーニーに移動し、既存のジャーニーを開くか、新しいジャーニーを作成します。

1. 「アクションを実行/人物アクション/ メールを送信」ノードを作成します。

1. ノードのメールコンテンツを作成または編集します。

1. コンポーネントメニューから項目をドラッグ&amp;ドロップして、フラグメントの _構造_ を指定します。

1. フラグメントリストを開くには、「_フラグメント_」アイコンをクリックします。

   次の操作が可能です。
   * リストを並べ替えます。
   * リストを参照、検索、フィルタリングします。
   * サムネール表示とリスト表示を切り替えます。
   * 最近作成したフラグメントが反映されるように、リストを更新します。

1. 任意のフラグメントを構造コンポーネントプレースホルダーにドラッグ&amp;ドロップします。

   エディターは、メール構造のセクション/要素内でフラグメントをレンダリングします。

フラグメントのコンテンツは、構造内で動的に更新され、コンテンツがメールにどのように表示されるかが視覚的に表示されます。

メール内の水平レイアウト全体を占めるようにフラグメントを追加する場合は、1:1 列構造を追加してから、フラグメントをドラッグ&amp;ドロップします。

メールを保存すると、フラグメントの詳細ページの「使用者」セクションに表示されます。 メールに追加されたフラグメントは、メール内では編集できません。コンテンツは、ソースフラグメントによって定義されます。

>[!TAB  メールテンプレートへのフラグメントの追加 ]

1. 左側のナビゲーションから、**[!UICONTROL コンテンツ管理]**/**[!UICONTROL テンプレート]** をクリックします。

1. 新しいテンプレートを作成するか、既存のメールテンプレートを開いて、「**[!UICONTROL メールテンプレートを編集]**」をクリックします。

1. コンポーネントメニューから項目をドラッグ&amp;ドロップして、フラグメントの _構造_ を指定します。

1. フラグメントリストを開くには、「_フラグメント_」アイコンをクリックします。

   次の操作が可能です。
   * リストを並べ替えます。
   * リストを参照、検索、フィルタリングします。
   * サムネール表示とリスト表示を切り替えます。
   * 最近作成したフラグメントが反映されるように、リストを更新します。

1. 任意のフラグメントを構造コンポーネントプレースホルダーにドラッグ&amp;ドロップします。

   エディターは、メールテンプレート構造のセクション/要素内でフラグメントをレンダリングします。

1. 任意のフラグメントを構造コンポーネントプレースホルダーにドラッグ&amp;ドロップします。

   エディターは、メールテンプレート構造のセクション/要素内でフラグメントをレンダリングします。

メールテンプレート内の水平レイアウト全体を占めるようにフラグメントを追加する場合は、1:1 列構造を追加してから、フラグメントをドラッグ&amp;ドロップします。

メールテンプレートが保存されると、フラグメントの詳細ページ/「使用 _[!UICONTROL セクションに表示され]_ す。 メールテンプレートに追加されたフラグメントは、テンプレート内で編集できません。コンテンツは、ソースフラグメントによって定義されます。

>[!ENDTABS]

## オーサリング中のフラグメントアクション

フラグメントをメールまたはメールテンプレートに追加すると、メールまたはテンプレート内でフラグメントコンテンツを編集できなくなります。 ただし、次の操作を適用できます。

* **[!UICONTROL 削除]** – このアクションは、現在のメールまたはメールテンプレートコンテンツからフラグメントを削除します（フラグメントソースは影響を受けません）。
* **[!UICONTROL 更新]** – このアクションは、現在のメールまたはメールテンプレート内のフラグメントのコンテンツを更新します。 これは、フラグメントをメールまたはメールテンプレートに追加した後に、フラグメントに対する最近の編集を反映する場合に便利です。
* **[!UICONTROL 複製]** – このアクションでは、エディター内の同じメールまたはメールテンプレート内のフラグメントを同じディメンションで複製し、その下に追加します。
* **[!UICONTROL フラグメントを開く]** – このアクションを実行すると、フラグメントエディターページと詳細を含む新しいブラウザータブが開きます。
* **[!UICONTROL 継承を解除]** – このアクションは、ソースからのフラグメントの継承（およびその変更）を解除します。 フラグメントコンテンツを、メールまたはメールテンプレート内で独立した編集可能なコンテンツとして利用できるようにする場合は、このアクションを使用します。 また、このアクションは、元のフラグメントの _使用者_ 参照からメールまたはメールテンプレートも削除します。

エディターページでフラグメントを選択すると、これらのアクションはコンテキストツールバーと、右側のプロパティパネルから使用できます。
